<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Video Theater w/A-Frame</title>

    <!-- a-frame stuff -->
    <script src="https://aframe.io/releases/0.2.0/aframe.min.js"></script>
    <meta name="apple-mobile-web-app-capable" content="yes">

    <!-- jquery works, unfortunately angular does not-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
        <script src="/script.js"></script>

  </head>

  <!-- added pause function to stop video from autoplaying -->
  <body onload="pause1()">
    <a-scene>

    <!-- list of assets used in the app -->
    <a-assets>

    <!-- list of images -->
      <img id="ui2" src="assets/taei.png">
      <img id="ui3" src="assets/taeyeonrain.jpg">
      <img id="ui4" src="assets/menu.png">
      <img id="ui5" src="assets/play.png">
      <img id="ui6" src="assets/pause.png">
      <img id="ui7" src="assets/volume.png">
      <img id="ui8" src="assets/mute.png">
      <img id="ui9" src="assets/rewind.png">
      <img id="ui10" src="assets/forward.png">
      <img id="ui11" src="assets/baby.jpg">
      <img id="ui12" src="assets/pt.jpg">

      <!-- video tag, able to manipulate video src, but not a-video src -->
      <video id="coaster" autoplay loop="true"  controls>
        <source src="assets/teaser.mp4" type="video/mp4">
      </video>
    </a-assets>

    <!-- camera positioning -->
  <a-entity position="0 2.2 4">
    <a-entity camera look-controls wasd-controls>

     <!-- fuse-click - allows user to "click" an object after staring at it for a certain amount of time -->
     <a-entity position="0 0 -3" geometry="primitive: ring; radiusOuter: 0.10; radiusInner: 0.05;" material="color: crimson; shader: flat"
            cursor="maxDistance: 30; fuse: true">
      <a-animation begin="click" easing="ease-in" attribute="scale" fill="backwards" from="0.1 0.1 0.1" to=".5 .5 .5" dur="150">
       </a-animation>
      <a-animation begin="fusing" easing="ease-in" attribute="scale" fill="forwards" from=".5 .5 .5" to="0.1 0.1 0.1" dur="1000">
       </a-animation>
     </a-entity>
    </a-entity>
  </a-entity>

  <!-- Using the asset management system to display video -->
  <a-video id="currentvid" src="#coaster" width="48" height="27" position="0 0 -25" webkit-playsinline></a-video>     
          
    <!-- image when 'clicked' on will change the source video -->
    <a-image id="test" onclick="vid(0)" src="#ui2" rotation="0 0 0" height="1" width="1" position="4 2.4 0" visible="false"></a-image>
    <a-image id="test1" onclick="vid(1)" src="#ui3" rotation="0 0 0" height="1" width="1" position="4 1.2 0" visible="false"></a-image>
    <a-image id="baby" onclick="vid(2)" src="#ui11" rotation="0 0 0" height="1" width="1" position="4 0 0" visible="false"></a-image>
    <a-image id="pt" onclick="vid(3)" src="#ui12" rotation="0 0 0" height="1" width="1" position="4 -1.2 0" visible="false"></a-image>

   <!-- Image icon for a menu button -->
   <a-image id="menu" onclick="toggle()" src="#ui4" rotation="0 0 0" height=".5" width=".5" position="4 3.2 0"></a-image>

   <!-- image icons for pause and play buttons -->
   <a-image id="play" onclick="play1()" src="#ui5" rotation="0 0 0" height=".5" width=".5" position="0 -.5 0" visible="false"></a-image>
   <a-image id="pause" onclick="pause1()" src="#ui6" rotation="0 0 0" height=".5" width=".5" position="0 -.5 0" visible="true">
    </a-image>

    <!-- image icons for mute and unmute -->
    <a-image id="sound" onclick="sound()" src="#ui7" rotation="0 0 0" height=".5" width=".5" position="1.4 -.5 0" visible="true"></a-image>
   <a-image id="mute" onclick="mute()" src="#ui8" rotation="0 0 0" height=".5" width=".5" position="1.4 -.5 0" visible="false">
    </a-image>

    <!-- image icon for rewind and forward  -->
    <a-image id="rewind" onclick="rewind()" src="#ui9" rotation="0 0 0" height=".5" width=".5" position="-.7 -.5 0" visible="true"></a-image>
    <a-image id="forward" onclick="forward()" src="#ui10" rotation="0 0 0" height=".5" width=".5" position=".7 -.5 0" visible="true"></a-image>

   <a-sky color="black"></a-sky>

 </a-scene>

  </body>
</html>
